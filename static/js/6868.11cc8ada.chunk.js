"use strict";(self.webpackChunkdellace=self.webpackChunkdellace||[]).push([[6868],{6868:function(e,a,n){n.r(a),n.d(a,{default:function(){return b}});var t=n(1413),r=n(74165),i=n(15861),s=n(29439),o=n(72791),d=n(9140),l=n(57689),c=n(59730),u=n(5439),m=n(39599),f=n(22339),v=n(43953),p=n(8007);var x=n(80184);var h=function(e){var a=e.onSubmit,n=e.loading,r=e.formData,i={image:(null===r||void 0===r?void 0:r.image)||"",name:(null===r||void 0===r?void 0:r.name)||""};return(0,x.jsx)(f.J9,{initialValues:(0,t.Z)({},i),validationSchema:p.Ry().shape({name:p.Z_().required("Brand name is required"),image:p.Z_().required("Brand image is required")}),onSubmit:a,enableReinitialize:!0,children:function(e){return(0,x.jsxs)(f.l0,{children:[(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{className:"form-label",children:"Brand Name"}),(0,x.jsx)("div",{className:"form-control-wrap",children:(0,x.jsx)(c.II,{id:"name",className:"form-control",name:"name",disabled:!1,variant:"standard",type:"text",placeholder:"Enter brand name",setFieldValue:e.handleChange})})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{className:"form-label",children:"Brand Image"}),(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)("div",{className:"upload_photo mb-2 mb-md-3 mx-auto text-center",children:(0,x.jsx)("div",{className:"img-box",children:(0,x.jsx)(c.jM,{name:"image",apiEndPoints:v.pU.profileImage,type:"file",defaultImageUrl:null===r||void 0===r?void 0:r.image,setFieldValue:e.handleChange})})})})]}),(0,x.jsx)("div",{className:"form-group text-center",children:(0,x.jsx)(c.Jr,{htmlType:"submit",type:"submit",loading:n,extraClassName:"btn btn-primary ripple-effect",children:null!==r&&void 0!==r&&r.id?"Update Brand":"Add Brand"})})]})}})};var b=function(){var e=(0,l.TH)(),a=e.search,n=(0,o.useState)([]),f=(0,s.Z)(n,2),v=f[0],p=f[1],b=(0,o.useState)({}),Z=(0,s.Z)(b,2),g=Z[0],y=Z[1],j=(0,o.useState)(1),N=(0,s.Z)(j,2),k=N[0],B=N[1],w=(0,o.useState)(10),C=(0,s.Z)(w,2),S=C[0],P=C[1],T=(0,o.useState)(""),F=(0,s.Z)(T,2),I=F[0],E=F[1],H=(0,o.useState)([{dataField:"",order:""}]),A=(0,s.Z)(H,2),R=A[0],M=A[1],q=(0,o.useState)(!1),z=(0,s.Z)(q,2),D=z[0],L=z[1],V=(0,o.useState)(),U=(0,s.Z)(V,2),O=U[0],_=U[1],J=(0,o.useState)(0),Y=(0,s.Z)(J,2),Q=Y[0],G=Y[1],K=(0,o.useState)(!1),W=(0,s.Z)(K,2),X=W[0],$=W[1],ee=(0,o.useState)(""),ae=(0,s.Z)(ee,2),ne=ae[0],te=ae[1],re=(0,o.useState)(!1),ie=(0,s.Z)(re,2),se=ie[0],oe=ie[1],de=(0,o.useState)(!1),le=(0,s.Z)(de,2),ce=le[0],ue=le[1];(0,o.useEffect)((function(){if(a){var e,n=(0,u.U)(a);if(y(n),B(null!==(e=null===n||void 0===n?void 0:n.page)&&void 0!==e?e:1),null!==n&&void 0!==n&&n.sortType){var t=[{order:(0,u.Mq)(null===n||void 0===n?void 0:n.sortType),dataField:null===n||void 0===n?void 0:n.sortBy}];M(t)}else M({dataField:"",order:""})}}),[e]);var me=function(e){$(!0),te(e)},fe=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var a,n,t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,a={offset:(k-1)*S,limit:S,sortBy:null===g||void 0===g?void 0:g.sortBy,sortType:null===g||void 0===g?void 0:g.sortType,name:I},e.next=5,m.pp.getBrandList(a);case 5:n=e.sent,t=n.success,i=n.data,t&&(p(i.rows),_(i.count>0?Math.ceil(i.count/S):1),G(i.count)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,u.kg)(e.t0);case 13:L(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),ve=[{dataField:"name",text:"Brand Name",formatter:function(e){return(0,u.rx)(e)}},{dataField:"image",text:"Brand Image",formatter:function(e,a){return null!==a&&void 0!==a&&a.image?(0,c.rC)(e):"-"}},{dataField:"action",text:"Action",headerClasses:"d-flex justify-content-end",formatter:function(e,a){return(0,c.Lg)(function(e){return[{name:"Edit",icon:"icon ni ni-pen",path:"#addForm",action:"confirm",onClickHandle:function(){me(e)}},{name:"Delete",icon:"icon ni ni-trash",action:"confirm",onClickHandle:function(){te(e),ue(!0),document.body.click()}}]}(a))}}];function pe(){return(pe=(0,i.Z)((0,r.Z)().mark((function e(){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===m.pp||void 0===m.pp?void 0:m.pp.deleteBrand(null===ne||void 0===ne?void 0:ne.id);case 3:null!==(a=e.sent)&&void 0!==a&&a.success&&((0,u.iM)({type:"success",message:null===a||void 0===a?void 0:a.message}),fe()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,u.kg)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var xe=function(){L(!0),p([]),_(0),G(0)},he=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe(!0),e.prev=1,n=(0,t.Z)({},a),!ne){e.next=9;break}return e.next=6,null===m.pp||void 0===m.pp?void 0:m.pp.updateBrand(null===ne||void 0===ne?void 0:ne.id,n);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,null===m.pp||void 0===m.pp?void 0:m.pp.addBrand(n);case 11:e.t0=e.sent;case 12:null!==(i=e.t0)&&void 0!==i&&i.success&&((0,u.iM)({type:"success",message:null===i||void 0===i?void 0:i.message}),$(!1),te(""),xe(),fe()),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),(0,u.kg)(e.t1);case 19:oe(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(a){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){fe()}),[g]),(0,x.jsxs)("div",{className:"nk-block-head nk-block-head-sm",children:[(0,x.jsxs)("div",{className:"nk-block-between",children:[(0,x.jsx)(d.Z,{className:"w-100 rounded-2 mb-4",children:(0,x.jsx)(d.Z.Body,{children:(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsx)(c.mr,{heading:"Brands"}),(0,x.jsx)(c.hY,{btnText:"Add Brand",onHandleShow:function(e){e.preventDefault(),me()},btnArray:["create"]})]})})}),(0,x.jsx)(c.zS,{onHandleCancel:function(){$(!1),te("")},show:X,title:null!==ne&&void 0!==ne&&ne.id?"Edit Brand":"Add Brand",children:(0,x.jsx)(h,{formData:ne,onSubmit:he,loading:se})})]}),(0,x.jsx)(c.wQ,{sizePerPagination:!1,hasLimit:!0,noOfPage:O,sizePerPage:S,page:k,count:Q,tableData:v,tableColumns:ve,defaultSort:R,tableLoader:D,setSizePerPage:P,tableReset:xe,getSearchValue:function(e){E(e),e&&xe()},searchPlaceholder:"Brand Name"}),(0,x.jsx)(c.oc,{title:"Are you sure",text:"you want to delete this brand?",show:ce,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",setIsAlertVisible:ue,onConfirmAlert:function(){return function(){pe.apply(this,arguments)}(ne),L(!0),ue(!1),!1}})]})}},9140:function(e,a,n){n.d(a,{Z:function(){return T}});var t=n(1413),r=n(45987),i=n(81694),s=n.n(i),o=n(72791),d=n(10162),l=n(66543),c=n(27472),u=n(80184),m=["bsPrefix","className","variant","as"],f=o.forwardRef((function(e,a){var n=e.bsPrefix,i=e.className,o=e.variant,l=e.as,c=void 0===l?"img":l,f=(0,r.Z)(e,m),v=(0,d.vE)(n,"card-img");return(0,u.jsx)(c,(0,t.Z)({ref:a,className:s()(o?"".concat(v,"-").concat(o):v,i)},f))}));f.displayName="CardImg";var v=f,p=n(96040),x=["bsPrefix","className","as"],h=o.forwardRef((function(e,a){var n=e.bsPrefix,i=e.className,l=e.as,c=void 0===l?"div":l,m=(0,r.Z)(e,x),f=(0,d.vE)(n,"card-header"),v=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:f}}),[f]);return(0,u.jsx)(p.Z.Provider,{value:v,children:(0,u.jsx)(c,(0,t.Z)((0,t.Z)({ref:a},m),{},{className:s()(i,f)}))})}));h.displayName="CardHeader";var b=h,Z=["bsPrefix","className","bg","text","border","body","children","as"],g=(0,c.Z)("h5"),y=(0,c.Z)("h6"),j=(0,l.Z)("card-body"),N=(0,l.Z)("card-title",{Component:g}),k=(0,l.Z)("card-subtitle",{Component:y}),B=(0,l.Z)("card-link",{Component:"a"}),w=(0,l.Z)("card-text",{Component:"p"}),C=(0,l.Z)("card-footer"),S=(0,l.Z)("card-img-overlay"),P=o.forwardRef((function(e,a){var n=e.bsPrefix,i=e.className,o=e.bg,l=e.text,c=e.border,m=e.body,f=e.children,v=e.as,p=void 0===v?"div":v,x=(0,r.Z)(e,Z),h=(0,d.vE)(n,"card");return(0,u.jsx)(p,(0,t.Z)((0,t.Z)({ref:a},x),{},{className:s()(i,h,o&&"bg-".concat(o),l&&"text-".concat(l),c&&"border-".concat(c)),children:m?(0,u.jsx)(j,{children:f}):f}))}));P.displayName="Card",P.defaultProps={body:!1};var T=Object.assign(P,{Img:v,Title:N,Subtitle:k,Body:j,Link:B,Text:w,Header:b,Footer:C,ImgOverlay:S})},96040:function(e,a,n){var t=n(72791).createContext(null);t.displayName="CardHeaderContext",a.Z=t},27472:function(e,a,n){var t=n(1413),r=n(72791),i=n(81694),s=n.n(i),o=n(80184);a.Z=function(e){return r.forwardRef((function(a,n){return(0,o.jsx)("div",(0,t.Z)((0,t.Z)({},a),{},{ref:n,className:s()(a.className,e)}))}))}}}]);
//# sourceMappingURL=6868.11cc8ada.chunk.js.map