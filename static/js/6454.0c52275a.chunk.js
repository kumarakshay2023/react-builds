"use strict";(self.webpackChunkdellace=self.webpackChunkdellace||[]).push([[6454],{36454:function(e,n,a){a.r(n),a.d(n,{default:function(){return b}});var t=a(1413),r=a(74165),i=a(15861),s=a(29439),o=a(72791),d=a(9140),l=a(57689),c=a(59730),u=a(5439),m=a(39599),f=a(22339),v=a(43953),p=a(8007);var x=a(80184);var h=function(e){var n=e.onSubmit,a=e.loading,r=e.formData,i={image:(null===r||void 0===r?void 0:r.image)||"",name:(null===r||void 0===r?void 0:r.name)||""};return(0,x.jsx)(f.J9,{initialValues:(0,t.Z)({},i),validationSchema:p.Ry().shape({name:p.Z_().required("Brand name is required"),image:p.Z_().required("Brand image is required")}),onSubmit:n,enableReinitialize:!0,children:function(e){return(0,x.jsxs)(f.l0,{children:[(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{className:"form-label",children:"Banner Title"}),(0,x.jsx)("div",{className:"form-control-wrap",children:(0,x.jsx)(c.II,{id:"name",className:"form-control",name:"name",disabled:!1,variant:"standard",type:"text",placeholder:"Enter title",setFieldValue:e.handleChange})})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{className:"form-label",children:"Banner Image"}),(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)("div",{className:"upload_photo mb-2 mb-md-3 mx-auto text-center",children:(0,x.jsx)("div",{className:"img-box",children:(0,x.jsx)(c.jM,{name:"image",apiEndPoints:v.pU.profileImage,type:"file",defaultImageUrl:null===r||void 0===r?void 0:r.image,setFieldValue:e.handleChange})})})})]}),(0,x.jsx)("div",{className:"form-group text-center",children:(0,x.jsx)(c.Jr,{htmlType:"submit",type:"submit",loading:a,extraClassName:"btn btn-primary ripple-effect",children:null!==r&&void 0!==r&&r.id?"Update Banner":"Add Banner"})})]})}})};var b=function(){var e=(0,l.TH)(),n=e.search,a=(0,o.useState)([]),f=(0,s.Z)(a,2),v=f[0],p=f[1],b=(0,o.useState)({}),Z=(0,s.Z)(b,2),g=Z[0],y=Z[1],j=(0,o.useState)(1),N=(0,s.Z)(j,2),B=N[0],k=N[1],w=(0,o.useState)(10),C=(0,s.Z)(w,2),S=C[0],P=C[1],T=(0,o.useState)(""),F=(0,s.Z)(T,2),I=F[0],E=F[1],H=(0,o.useState)([{dataField:"",order:""}]),A=(0,s.Z)(H,2),R=A[0],M=A[1],q=(0,o.useState)(!1),z=(0,s.Z)(q,2),D=z[0],L=z[1],V=(0,o.useState)(),U=(0,s.Z)(V,2),O=U[0],_=U[1],J=(0,o.useState)(0),Y=(0,s.Z)(J,2),Q=Y[0],G=Y[1],K=(0,o.useState)(!1),W=(0,s.Z)(K,2),X=W[0],$=W[1],ee=(0,o.useState)(""),ne=(0,s.Z)(ee,2),ae=ne[0],te=ne[1],re=(0,o.useState)(!1),ie=(0,s.Z)(re,2),se=ie[0],oe=ie[1],de=(0,o.useState)(!1),le=(0,s.Z)(de,2),ce=le[0],ue=le[1];(0,o.useEffect)((function(){if(n){var e,a=(0,u.U)(n);if(y(a),k(null!==(e=null===a||void 0===a?void 0:a.page)&&void 0!==e?e:1),null!==a&&void 0!==a&&a.sortType){var t=[{order:(0,u.Mq)(null===a||void 0===a?void 0:a.sortType),dataField:null===a||void 0===a?void 0:a.sortBy}];M(t)}else M({dataField:"",order:""})}}),[e]);var me=function(e){$(!0),te(e)},fe=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,a,t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,n={offset:(B-1)*S,limit:S,sortBy:null===g||void 0===g?void 0:g.sortBy,sortType:null===g||void 0===g?void 0:g.sortType,name:I},e.next=5,m.np.getBannerList(n);case 5:a=e.sent,t=a.success,i=a.data,t&&(p(i.rows),_(i.count>0?Math.ceil(i.count/S):1),G(i.count)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,u.kg)(e.t0);case 13:L(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();function ve(){return(ve=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===m.np||void 0===m.np?void 0:m.np.deleteBanner(null===ae||void 0===ae?void 0:ae.id);case 3:null!==(n=e.sent)&&void 0!==n&&n.success&&((0,u.iM)({type:"success",message:null===n||void 0===n?void 0:n.message}),fe()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,u.kg)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var pe=[{dataField:"name",text:"Title",formatter:function(e){return(0,u.rx)(e)}},{dataField:"image",text:"Banner Image",formatter:function(e,n){return null!==n&&void 0!==n&&n.image?(0,c.rC)(e):"-"}},{dataField:"BrandBanner",text:"Brand Banner",formatter:function(e){return(0,u.rx)(e)}},{dataField:"action",text:"Action",headerClasses:"d-flex justify-content-end",formatter:function(e,n){return(0,c.Lg)(function(e){return[{name:"Edit",icon:"icon ni ni-pen",path:"#addForm",action:"confirm",onClickHandle:function(){me(e)}},{name:"Delete",icon:"icon ni ni-trash",action:"confirm",onClickHandle:function(){te(e),ue(!0),document.body.click()}}]}(n))}}],xe=function(){L(!0),p([]),_(0),G(0)},he=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe(!0),e.prev=1,a=(0,t.Z)({},n),!ae){e.next=9;break}return e.next=6,null===m.np||void 0===m.np?void 0:m.np.updateBanner(null===ae||void 0===ae?void 0:ae.id,a);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,null===m.np||void 0===m.np?void 0:m.np.addBanner(a);case 11:e.t0=e.sent;case 12:null!==(i=e.t0)&&void 0!==i&&i.success&&((0,u.iM)({type:"success",message:null===i||void 0===i?void 0:i.message}),$(!1),te(""),xe(),fe()),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),(0,u.kg)(e.t1);case 19:oe(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(n){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){fe()}),[g]),(0,x.jsxs)("div",{className:"nk-block-head nk-block-head-sm",children:[(0,x.jsxs)("div",{className:"nk-block-between",children:[(0,x.jsx)(d.Z,{className:"w-100 rounded-2 mb-4",children:(0,x.jsx)(d.Z.Body,{children:(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsx)(c.mr,{heading:"Banners"}),(0,x.jsx)(c.hY,{btnText:"Add Banner",onHandleShow:function(e){e.preventDefault(),me()},btnArray:["create"]})]})})}),(0,x.jsx)(c.zS,{onHandleCancel:function(){$(!1),te("")},show:X,title:null!==ae&&void 0!==ae&&ae.id?"Edit Banner":"Add Banner",children:(0,x.jsx)(h,{formData:ae,onSubmit:he,loading:se})})]}),(0,x.jsx)(c.wQ,{sizePerPagination:!1,hasLimit:!0,noOfPage:O,sizePerPage:S,page:B,count:Q,tableData:v,tableColumns:pe,defaultSort:R,tableLoader:D,setSizePerPage:P,tableReset:xe,getSearchValue:function(e){E(e),e&&xe()},searchPlaceholder:"Brand Name"}),(0,x.jsx)(c.oc,{title:"Are you sure",text:"you want to delete this brand?",show:ce,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",setIsAlertVisible:ue,onConfirmAlert:function(){return function(){ve.apply(this,arguments)}(ae),L(!0),ue(!1),!1}})]})}},9140:function(e,n,a){a.d(n,{Z:function(){return T}});var t=a(1413),r=a(45987),i=a(81694),s=a.n(i),o=a(72791),d=a(10162),l=a(66543),c=a(27472),u=a(80184),m=["bsPrefix","className","variant","as"],f=o.forwardRef((function(e,n){var a=e.bsPrefix,i=e.className,o=e.variant,l=e.as,c=void 0===l?"img":l,f=(0,r.Z)(e,m),v=(0,d.vE)(a,"card-img");return(0,u.jsx)(c,(0,t.Z)({ref:n,className:s()(o?"".concat(v,"-").concat(o):v,i)},f))}));f.displayName="CardImg";var v=f,p=a(96040),x=["bsPrefix","className","as"],h=o.forwardRef((function(e,n){var a=e.bsPrefix,i=e.className,l=e.as,c=void 0===l?"div":l,m=(0,r.Z)(e,x),f=(0,d.vE)(a,"card-header"),v=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:f}}),[f]);return(0,u.jsx)(p.Z.Provider,{value:v,children:(0,u.jsx)(c,(0,t.Z)((0,t.Z)({ref:n},m),{},{className:s()(i,f)}))})}));h.displayName="CardHeader";var b=h,Z=["bsPrefix","className","bg","text","border","body","children","as"],g=(0,c.Z)("h5"),y=(0,c.Z)("h6"),j=(0,l.Z)("card-body"),N=(0,l.Z)("card-title",{Component:g}),B=(0,l.Z)("card-subtitle",{Component:y}),k=(0,l.Z)("card-link",{Component:"a"}),w=(0,l.Z)("card-text",{Component:"p"}),C=(0,l.Z)("card-footer"),S=(0,l.Z)("card-img-overlay"),P=o.forwardRef((function(e,n){var a=e.bsPrefix,i=e.className,o=e.bg,l=e.text,c=e.border,m=e.body,f=e.children,v=e.as,p=void 0===v?"div":v,x=(0,r.Z)(e,Z),h=(0,d.vE)(a,"card");return(0,u.jsx)(p,(0,t.Z)((0,t.Z)({ref:n},x),{},{className:s()(i,h,o&&"bg-".concat(o),l&&"text-".concat(l),c&&"border-".concat(c)),children:m?(0,u.jsx)(j,{children:f}):f}))}));P.displayName="Card",P.defaultProps={body:!1};var T=Object.assign(P,{Img:v,Title:N,Subtitle:B,Body:j,Link:k,Text:w,Header:b,Footer:C,ImgOverlay:S})},96040:function(e,n,a){var t=a(72791).createContext(null);t.displayName="CardHeaderContext",n.Z=t},27472:function(e,n,a){var t=a(1413),r=a(72791),i=a(81694),s=a.n(i),o=a(80184);n.Z=function(e){return r.forwardRef((function(n,a){return(0,o.jsx)("div",(0,t.Z)((0,t.Z)({},n),{},{ref:a,className:s()(n.className,e)}))}))}}}]);
//# sourceMappingURL=6454.0c52275a.chunk.js.map