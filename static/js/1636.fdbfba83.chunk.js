"use strict";(self.webpackChunkdellace=self.webpackChunkdellace||[]).push([[1636],{81636:function(e,a,r){r.r(a),r.d(a,{default:function(){return Z}});var t=r(1413),n=r(74165),i=r(15861),o=r(29439),d=r(72791),s=r(9140),c=r(57689),l=r(59730),u=r(5439),m=r(39599),v=r(22339),f=r(43953),p=r(8007);var h=r(80184);var x=function(e){var a=e.onSubmit,r=e.loading,n=e.formData,i=e.produtCategoryData,o=e.brandData,d={image:(null===n||void 0===n?void 0:n.image)||"",name:(null===n||void 0===n?void 0:n.name)||"",brandId:(null===n||void 0===n?void 0:n.brandId)||void 0,price:(null===n||void 0===n?void 0:n.price)||"",categoryId:(null===n||void 0===n?void 0:n.categoryId)||void 0,description:(null===n||void 0===n?void 0:n.description)||"",packageName:(null===n||void 0===n?void 0:n.packageName)||""};return(0,h.jsx)(v.J9,{initialValues:(0,t.Z)({},d),validationSchema:p.Ry().shape({name:p.Z_().required("Product name is required"),image:p.Z_().required("Product image is required"),brandId:p.Z_().required("Brand is required"),price:p.Z_().required("Price is required"),categoryId:p.Z_().required("Category is required"),description:p.Z_().required("Description is required"),packageName:p.Z_().required("Package name is required")}),onSubmit:a,enableReinitialize:!0,children:function(e){return(0,h.jsxs)(v.l0,{children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{className:"form-label",children:"Product Image"}),(0,h.jsx)("div",{className:"form-group",children:(0,h.jsx)("div",{className:"upload_photo mb-2 mb-md-3 mx-auto text-center",children:(0,h.jsx)("div",{className:"img-box",children:(0,h.jsx)(l.jM,{name:"image",apiEndPoints:f.pU.profileImage,type:"file",defaultImageUrl:null===n||void 0===n?void 0:n.image,setFieldValue:e.handleChange})})})})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{className:"form-label",children:"Product Name"}),(0,h.jsx)("div",{className:"form-control-wrap",children:(0,h.jsx)(l.II,{id:"name",className:"form-control",name:"name",disabled:!1,variant:"standard",type:"text",placeholder:"Enter product name",setFieldValue:e.handleChange})})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{className:"form-label",children:"Price"}),(0,h.jsx)("div",{className:"form-control-wrap",children:(0,h.jsx)(l.II,{id:"price",className:"form-control",name:"price",disabled:!1,variant:"standard",type:"text",placeholder:"Enter price",setFieldValue:e.handleChange,min:"0",inputmode:"numeric",onKeyPress:function(e){(0,u.l4)(e)}})})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{className:"form-label",children:"Package Name"}),(0,h.jsx)("div",{className:"form-control-wrap",children:(0,h.jsx)(l.II,{id:"packageName",className:"form-control",name:"packageName",disabled:!1,variant:"standard",type:"text",placeholder:"Enter package name<",setFieldValue:e.handleChange})})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("div",{className:"form-label-group",children:(0,h.jsx)("label",{className:"form-label",htmlFor:"email",children:"Brand"})}),(0,h.jsx)("div",{className:"form-control-wrap",children:(0,h.jsx)(l.Ph,{id:"brandId",name:"brandId",variant:"standard",arrayOfData:o,placeholder:"Select Brand",setFieldValue:e.handleChange})})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("div",{className:"form-label-group",children:(0,h.jsx)("label",{className:"form-label",htmlFor:"email",children:"Category"})}),(0,h.jsx)("div",{className:"form-control-wrap",children:(0,h.jsx)(l.Ph,{id:"categoryId",name:"categoryId",variant:"standard",arrayOfData:i,placeholder:"Select Category",setFieldValue:e.handleChange})})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("div",{className:"form-label-group",children:(0,h.jsx)("label",{className:"form-label",htmlFor:"email",children:"Description"})}),(0,h.jsx)("div",{className:"form-control-wrap",children:(0,h.jsx)(l.P8,{id:"description",name:"description",variant:"standard",className:"form-control",placeholder:"Enter description",setFieldValue:e.handleChange})})]}),(0,h.jsx)("div",{className:"form-group text-center",children:(0,h.jsx)(l.Jr,{htmlType:"submit",type:"submit",loading:r,extraClassName:"btn btn-primary ripple-effect",children:null!==n&&void 0!==n&&n.id?"Update Product":"Add Product"})})]})}})},g=r(81691),b={getProductList:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,t.Z)((0,t.Z)({},f.xs.allProduct),{},{queryParams:a}),e.next=4,(0,g.Z)(r);case 4:return i=e.sent,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),(0,u.kg)(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),addProduct:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,t.Z)((0,t.Z)({},f.xs.addProduct),{},{bodyData:a}),e.next=4,(0,g.Z)(r);case 4:return i=e.sent,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),(0,u.kg)(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),updateProduct:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a,r){var i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(0,t.Z)((0,t.Z)({},f.xs.updateProduct(a)),{},{bodyData:r}),e.next=4,(0,g.Z)(i);case 4:return o=e.sent,e.abrupt("return",o);case 8:throw e.prev=8,e.t0=e.catch(0),(0,u.kg)(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,r){return e.apply(this,arguments)}}(),updateProductService:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a,r){var i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(0,t.Z)((0,t.Z)({},f.xs.deleteProduct(a)),{},{bodyData:r}),e.next=4,(0,g.Z)(i);case 4:return o=e.sent,e.abrupt("return",o);case 8:throw e.prev=8,e.t0=e.catch(0),(0,u.kg)(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,r){return e.apply(this,arguments)}}()};var Z=function(){var e=(0,c.TH)(),a=e.search,r=(0,d.useState)([]),v=(0,o.Z)(r,2),f=v[0],p=v[1],g=(0,d.useState)({}),Z=(0,o.Z)(g,2),y=Z[0],N=Z[1],j=(0,d.useState)(1),P=(0,o.Z)(j,2),k=P[0],w=P[1],C=(0,d.useState)(10),S=(0,o.Z)(C,2),I=S[0],F=S[1],D=(0,d.useState)(""),q=(0,o.Z)(D,2),B=q[0],E=q[1],T=(0,d.useState)([{dataField:"",order:""}]),V=(0,o.Z)(T,2),H=V[0],A=V[1],L=(0,d.useState)(!1),_=(0,o.Z)(L,2),R=_[0],M=_[1],z=(0,d.useState)(),O=(0,o.Z)(z,2),U=O[0],J=O[1],Y=(0,d.useState)(0),K=(0,o.Z)(Y,2),Q=K[0],G=K[1],W=(0,d.useState)(!1),X=(0,o.Z)(W,2),$=X[0],ee=X[1],ae=(0,d.useState)(""),re=(0,o.Z)(ae,2),te=re[0],ne=re[1],ie=(0,d.useState)(!1),oe=(0,o.Z)(ie,2),de=oe[0],se=oe[1],ce=(0,d.useState)([]),le=(0,o.Z)(ce,2),ue=le[0],me=le[1],ve=(0,d.useState)([]),fe=(0,o.Z)(ve,2),pe=fe[0],he=fe[1],xe=(0,d.useState)(!1),ge=(0,o.Z)(xe,2),be=ge[0],Ze=ge[1];(0,d.useEffect)((function(){if(a){var e,r=(0,u.U)(a);if(N(r),w(null!==(e=null===r||void 0===r?void 0:r.page)&&void 0!==e?e:1),null!==r&&void 0!==r&&r.sortType){var t=[{order:(0,u.Mq)(null===r||void 0===r?void 0:r.sortType),dataField:null===r||void 0===r?void 0:r.sortBy}];A(t)}else A({dataField:"",order:""})}}),[e]);var ye=function(e){ee(!0),ne(e)},Ne=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var a,r,t,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,a={offset:(k-1)*I,limit:I,sortBy:null===y||void 0===y?void 0:y.sortBy,sortType:null===y||void 0===y?void 0:y.sortType,name:B},e.next=5,b.getProductList(a);case 5:r=e.sent,t=r.success,i=r.data,t&&(p(i.rows),J(i.count>0?Math.ceil(i.count/I):1),G(i.count)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,u.kg)(e.t0);case 13:M(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),je=[{dataField:"image",text:"Product Image",formatter:function(e,a){return null!==a&&void 0!==a&&a.image?(0,l.rC)(e):"-"}},{dataField:"name",text:"Product Name",formatter:function(e){return(0,u.rx)(e)}},{dataField:"packageName",text:"Package Name",formatter:function(e){return(0,u.rx)(e)}},{dataField:"brand",text:"Brand",formatter:function(e,a){var r;return(0,u.rx)(null===a||void 0===a||null===(r=a.brand)||void 0===r?void 0:r.name)}},{dataField:"productCategory",text:"Product Category",formatter:function(e,a){var r;return(0,u.rx)(null===a||void 0===a||null===(r=a.brand)||void 0===r?void 0:r.name)}},{dataField:"price",text:"Price",formatter:function(e){return(0,u.rx)(e)}},{dataField:"action",text:"Action",headerClasses:"d-flex justify-content-end",formatter:function(e,a){return(0,l.Lg)(function(e){return[{name:"Edit",icon:"icon ni ni-pen",path:"#addForm",action:"confirm",onClickHandle:function(){ye(e)}},{name:"Delete",icon:"icon ni ni-trash",action:"confirm",onClickHandle:function(){ne(e),Ze(!0),document.body.click()}}]}(a))}}],Pe=function(){M(!0),p([]),J(0),G(0)};function ke(){return(ke=(0,i.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===b||void 0===b?void 0:b.updateProductService(null===te||void 0===te?void 0:te.id);case 3:null!==(a=e.sent)&&void 0!==a&&a.success&&((0,u.iM)({type:"success",message:null===a||void 0===a?void 0:a.message}),Ne()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,u.kg)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var we=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se(!0),e.prev=1,r=(0,t.Z)({},a),!te){e.next=9;break}return e.next=6,null===b||void 0===b?void 0:b.updateProduct(null===te||void 0===te?void 0:te.id,r);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,null===b||void 0===b?void 0:b.addProduct(r);case 11:e.t0=e.sent;case 12:null!==(i=e.t0)&&void 0!==i&&i.success&&((0,u.iM)({type:"success",message:null===i||void 0===i?void 0:i.message}),ee(!1),ne(""),Pe(),Ne()),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),(0,u.kg)(e.t1);case 19:se(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(a){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var a,r,t,i,o,d,s,c,l,v;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,a={type:"all"},e.next=5,m.DV.getProductCategoryList(a);case 5:return r=e.sent,e.next=8,m.pp.getBrandList(a);case 8:t=e.sent,i=r.success,o=r.data,i&&(s=null===o||void 0===o||null===(d=o.rows)||void 0===d?void 0:d.map((function(e){return{name:null===e||void 0===e?void 0:e.name,id:null===e||void 0===e?void 0:e.id}})),me(s)),null!==t&&void 0!==t&&t.success&&(v=null===t||void 0===t||null===(c=t.data)||void 0===c||null===(l=c.rows)||void 0===l?void 0:l.map((function(e){return{name:null===e||void 0===e?void 0:e.name,id:null===e||void 0===e?void 0:e.id}})),he(v)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),(0,u.kg)(e.t0);case 17:M(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){Ce()}),[]),(0,d.useEffect)((function(){Ne()}),[y]),(0,h.jsxs)("div",{className:"nk-block-head nk-block-head-sm",children:[(0,h.jsxs)("div",{className:"nk-block-between",children:[(0,h.jsx)(s.Z,{className:"w-100 rounded-2 mb-4",children:(0,h.jsx)(s.Z.Body,{children:(0,h.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,h.jsx)(l.mr,{heading:"Product"}),(0,h.jsx)(l.hY,{btnText:"Add Product",onHandleShow:function(e){e.preventDefault(),ye()},btnArray:["create"]})]})})}),(0,h.jsx)(l.zS,{onHandleCancel:function(){ee(!1),ne("")},show:$,title:null!==te&&void 0!==te&&te.id?"Edit Product":"Add Product",children:(0,h.jsx)(x,{formData:te,onSubmit:we,loading:de,produtCategoryData:ue,brandData:pe})})]}),(0,h.jsx)(l.wQ,{sizePerPagination:!1,hasLimit:!0,noOfPage:U,sizePerPage:I,page:k,count:Q,tableData:f,tableColumns:je,defaultSort:H,tableLoader:R,setSizePerPage:F,tableReset:Pe,getSearchValue:function(e){E(e),e&&Pe()},searchPlaceholder:"Product Name"}),(0,h.jsx)(l.oc,{title:"Are you sure",text:"you want to delete this product?",show:be,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",setIsAlertVisible:Ze,onConfirmAlert:function(){return function(){ke.apply(this,arguments)}(te),M(!0),Ze(!1),!1}})]})}},9140:function(e,a,r){r.d(a,{Z:function(){return F}});var t=r(1413),n=r(45987),i=r(81694),o=r.n(i),d=r(72791),s=r(10162),c=r(66543),l=r(27472),u=r(80184),m=["bsPrefix","className","variant","as"],v=d.forwardRef((function(e,a){var r=e.bsPrefix,i=e.className,d=e.variant,c=e.as,l=void 0===c?"img":c,v=(0,n.Z)(e,m),f=(0,s.vE)(r,"card-img");return(0,u.jsx)(l,(0,t.Z)({ref:a,className:o()(d?"".concat(f,"-").concat(d):f,i)},v))}));v.displayName="CardImg";var f=v,p=r(96040),h=["bsPrefix","className","as"],x=d.forwardRef((function(e,a){var r=e.bsPrefix,i=e.className,c=e.as,l=void 0===c?"div":c,m=(0,n.Z)(e,h),v=(0,s.vE)(r,"card-header"),f=(0,d.useMemo)((function(){return{cardHeaderBsPrefix:v}}),[v]);return(0,u.jsx)(p.Z.Provider,{value:f,children:(0,u.jsx)(l,(0,t.Z)((0,t.Z)({ref:a},m),{},{className:o()(i,v)}))})}));x.displayName="CardHeader";var g=x,b=["bsPrefix","className","bg","text","border","body","children","as"],Z=(0,l.Z)("h5"),y=(0,l.Z)("h6"),N=(0,c.Z)("card-body"),j=(0,c.Z)("card-title",{Component:Z}),P=(0,c.Z)("card-subtitle",{Component:y}),k=(0,c.Z)("card-link",{Component:"a"}),w=(0,c.Z)("card-text",{Component:"p"}),C=(0,c.Z)("card-footer"),S=(0,c.Z)("card-img-overlay"),I=d.forwardRef((function(e,a){var r=e.bsPrefix,i=e.className,d=e.bg,c=e.text,l=e.border,m=e.body,v=e.children,f=e.as,p=void 0===f?"div":f,h=(0,n.Z)(e,b),x=(0,s.vE)(r,"card");return(0,u.jsx)(p,(0,t.Z)((0,t.Z)({ref:a},h),{},{className:o()(i,x,d&&"bg-".concat(d),c&&"text-".concat(c),l&&"border-".concat(l)),children:m?(0,u.jsx)(N,{children:v}):v}))}));I.displayName="Card",I.defaultProps={body:!1};var F=Object.assign(I,{Img:f,Title:j,Subtitle:P,Body:N,Link:k,Text:w,Header:g,Footer:C,ImgOverlay:S})},96040:function(e,a,r){var t=r(72791).createContext(null);t.displayName="CardHeaderContext",a.Z=t},27472:function(e,a,r){var t=r(1413),n=r(72791),i=r(81694),o=r.n(i),d=r(80184);a.Z=function(e){return n.forwardRef((function(a,r){return(0,d.jsx)("div",(0,t.Z)((0,t.Z)({},a),{},{ref:r,className:o()(a.className,e)}))}))}}}]);
//# sourceMappingURL=1636.fdbfba83.chunk.js.map